(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},27:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(5),a=n.n(r),l=(n(19),n(4)),i=n.n(l),o=n(8),u=n(3),h=(n(20),"https://autofleetlieblich.herokuapp.com/"),j=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"vehicles");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"vehicles/selectedArea",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),b=(n(21),n(2)),f=function(e){var t=e.vehicle,n=e.onClick,s=e.chosen,r=e.scrollToVehicle,a=e.index;return Object(c.useEffect)((function(){s&&r(a)}),[s,a,r]),Object(b.jsxs)("button",{style:{backgroundColor:s?"grey":void 0,margin:"".concat(10,"px auto")},className:"list-item",onClick:function(){return n(t)},children:[Object(b.jsxs)("div",{children:["Id: ",t.vehicle_id]}),Object(b.jsxs)("div",{children:["State: ",t.state]}),Object(b.jsxs)("div",{children:["Class: ",t.class_name]})]})},p=(n(23),function(e){var t=e.vehicles,n=e.setChosenVehicle,s=e.chosenVehicle,r=Object(c.useRef)(null),a=function(e){r.current.scrollTo({top:e*(10+(window.innerWidth>1e3?50:80)),left:0,behavior:"smooth"})};return Object(b.jsx)("div",{ref:r,className:"list-container",children:t.map((function(e,t){return Object(b.jsx)(f,{scrollToVehicle:a,index:t,vehicle:e,onClick:n,chosen:e.vehicle_id===s.vehicle_id},e.vehicle_id)}))})}),v=(n(24),n(10)),O=n.n(v);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,c,s=function(e,t){if(null==e)return{};var n,c,s={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var g=c.createElement("desc",null,"Created with Fabric.js 1.7.22"),k=c.createElement("defs",null);function y(e,t){var n=e.title,s=e.titleId,r=m(e,["title","titleId"]);return c.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:150,height:150,viewBox:"0 0 256 256",xmlSpace:"preserve",ref:t,"aria-labelledby":s},r),n?c.createElement("title",{id:s},n):null,g,k,c.createElement("g",{transform:"translate(128 128) scale(0.72 0.72)",style:{}},c.createElement("g",{style:{stroke:"none",strokeWidth:0,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"none",fillRule:"nonzero",opacity:1},transform:"translate(-175.05 -175.05000000000004) scale(3.89 3.89)"},c.createElement("path",{d:"M 40.756 42.489 h -1.96 c -0.82 0 -1.484 -0.664 -1.484 -1.484 s 0.664 -1.484 1.484 -1.484 h 1.96 c 0.82 0 1.484 0.664 1.484 1.484 S 41.575 42.489 40.756 42.489 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"rgb(0,0,0)",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}),c.createElement("path",{d:"M 89.985 44.526 c -0.919 -6.254 -12.283 -9.606 -22.7 -9.646 c -15.461 -11.31 -34.615 -11.762 -56.938 -1.342 L 3.621 34.66 C 1.523 35.009 0 36.807 0 38.934 v 10.024 c 0 1.039 0.374 2.044 1.051 2.829 l 2.335 2.708 c 0.824 0.956 2.02 1.504 3.282 1.504 h 2.184 c 0.862 4.542 4.855 7.989 9.644 7.989 c 4.79 0 8.783 -3.447 9.645 -7.989 h 36.341 c 0.862 4.542 4.855 7.989 9.645 7.989 s 8.783 -3.447 9.645 -7.989 h 1.894 c 2.389 0 4.334 -1.944 4.334 -4.334 v -6.924 L 89.985 44.526 z M 85.717 42.746 h -1.323 l -0.858 -1.507 C 84.404 41.712 85.149 42.215 85.717 42.746 z M 61.921 34.881 H 31.404 l -2.397 -4.702 C 41.366 27.526 52.252 29.093 61.921 34.881 z M 18.497 61.021 c -3.78 0 -6.855 -3.075 -6.855 -6.854 c 0 -3.78 3.075 -6.855 6.855 -6.855 c 3.78 0 6.855 3.075 6.855 6.855 C 25.352 57.946 22.277 61.021 18.497 61.021 z M 74.128 61.021 c -3.78 0 -6.855 -3.075 -6.855 -6.854 c 0 -3.78 3.075 -6.855 6.855 -6.855 s 6.855 3.075 6.855 6.855 C 80.983 57.946 77.908 61.021 74.128 61.021 z M 85.666 53.032 h -1.787 c -0.565 -4.883 -4.719 -8.688 -9.751 -8.688 s -9.186 3.805 -9.751 8.688 H 28.248 c -0.565 -4.883 -4.719 -8.688 -9.751 -8.688 c -5.032 0 -9.186 3.805 -9.751 8.688 H 6.668 c -0.398 0 -0.775 -0.173 -1.035 -0.474 l -2.335 -2.709 c -0.213 -0.247 -0.331 -0.563 -0.331 -0.89 v -6.469 h 1.619 c 0.82 0 1.484 -0.664 1.484 -1.484 s -0.664 -1.484 -1.484 -1.484 H 2.967 v -0.588 c 0 -0.671 0.48 -1.238 1.142 -1.348 l 7.128 -1.188 l 0.185 -0.087 c 5.087 -2.387 9.954 -4.187 14.619 -5.417 l 3.122 6.125 l 5.664 11.628 c 0.257 0.527 0.785 0.834 1.335 0.834 c 0.218 0 0.439 -0.048 0.649 -0.15 c 0.737 -0.359 1.043 -1.247 0.684 -1.984 l -4.628 -9.499 h 33.437 l 0.004 0.003 l 0.498 -0.003 c 4.47 -0.04 8.798 0.582 12.301 1.616 l 3.134 5.5 c 0.265 0.463 0.756 0.749 1.289 0.749 h 3.502 v 5.952 C 87.033 52.419 86.42 53.032 85.666 53.032 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"rgb(0,0,0)",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}),c.createElement("path",{d:"M 74.128 49.449 c -2.602 0 -4.718 2.116 -4.718 4.718 c 0 2.601 2.116 4.717 4.718 4.717 s 4.718 -2.116 4.718 -4.717 C 78.846 51.565 76.729 49.449 74.128 49.449 z M 74.128 55.917 c -0.966 0 -1.751 -0.785 -1.751 -1.75 c 0 -0.966 0.785 -1.751 1.751 -1.751 s 1.751 0.785 1.751 1.751 C 75.879 55.132 75.093 55.917 74.128 55.917 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"rgb(0,0,0)",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}),c.createElement("path",{d:"M 18.497 49.449 c -2.601 0 -4.718 2.116 -4.718 4.718 c 0 2.601 2.116 4.717 4.718 4.717 s 4.718 -2.116 4.718 -4.717 C 23.215 51.565 21.098 49.449 18.497 49.449 z M 18.497 55.917 c -0.965 0 -1.751 -0.785 -1.751 -1.75 c 0 -0.966 0.785 -1.751 1.751 -1.751 c 0.965 0 1.751 0.785 1.751 1.751 C 20.248 55.132 19.462 55.917 18.497 55.917 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"rgb(0,0,0)",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}))))}var C=c.forwardRef(y);n.p;O.a.setApiKey("AIzaSyAzaZJQ9NmJu4OTD5hOaUp1oa-jgEchN1g");var w=function(e){var t=e.vehicle,n=Object(c.useState)(),s=Object(u.a)(n,2),r=s[0],a=s[1];return Object(c.useEffect)((function(){O.a.fromLatLng("".concat(t.lat),"".concat(t.lng)).then((function(e){a(e.results[0].formatted_address)}),(function(e){console.error(e)}))}),[t]),Object(b.jsx)("div",{className:"card-container",children:r&&Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)(C,{width:"40%",height:"100%"}),Object(b.jsxs)("div",{style:{width:"60%",margin:"auto 0"},children:[Object(b.jsxs)("div",{className:"car-info",children:["Vehicle Id: ",t.vehicle_id]}),Object(b.jsxs)("div",{className:"car-info",children:["State: ",t.state]}),Object(b.jsxs)("div",{className:"car-info",children:["Seats: ",t.seats]}),Object(b.jsxs)("div",{className:"car-info",children:["Class: ",t.class_name]}),Object(b.jsxs)("div",{className:"car-info",children:["Location: ",r]})]})]})})},L=n(14),S=function(e){var t=e.onClick,n=e.vehicle,c=e.$hover,s=e.chosen,r="online"===n.state?"green":"red";return Object(b.jsx)("button",{style:{height:"25px",width:"25px",backgroundColor:s||c?r:"blue",borderRadius:"100px",color:"white",position:"absolute",left:-15,top:-15},onClick:function(){return t(n)}})},N=(n(27),n(13)),z=n.n(N),E=function(e){var t=e.setChosenVehicle,n=e.chosenVehicle,s=e.setFilters,r=e.setAreaList,a=e.displayList,l=Object(c.useState)(),h=Object(u.a)(l,2),j=h[0],f=h[1],p=Object(c.useState)(),v=Object(u.a)(p,2),O=v[0],x=v[1],m=Object(c.useState)(),g=Object(u.a)(m,2),k=g[0],y=g[1],C=Object(c.useState)(),w=Object(u.a)(C,2),N=w[0],E=w[1],M=Object(c.useState)(!1),_=Object(u.a)(M,2),I=_[0],A=_[1],D=[{lat:n.lat+.01,lng:n.lng-.01},{lat:n.lat+.01,lng:n.lng+.01},{lat:n.lat-.01,lng:n.lng+.01},{lat:n.lat-.01,lng:n.lng-.01}],V=function(){var e=Object(o.a)(i.a.mark((function e(){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),n=[],j.getPath().td.forEach((function(e,t){var c=[];c.push(e.lat()),c.push(e.lng()),n[t]=c})),e.next=5,d(n);case 5:(c=e.sent).length>0&&(E(c),t(c[0]),r(c),s({text:"",status:"all",class:"all"})),A(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)(L.a,{bootstrapURLKeys:{key:"AIzaSyAzaZJQ9NmJu4OTD5hOaUp1oa-jgEchN1g"},center:{lat:n.lat,lng:n.lng},defaultZoom:13,hoverDistance:25,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var t=e.map,n=e.maps;x(t),y(n)},children:[I&&Object(b.jsx)("div",{style:{zIndex:999,position:"absolute",top:-20,left:-20},children:Object(b.jsx)(z.a,{type:"Puff",color:"black",height:50,width:50})}),Object(b.jsx)(S,{lat:n.lat,lng:n.lng,onClick:t,vehicle:n,chosen:!0}),N&&a.map((function(e){return Object(b.jsx)(S,{lat:e.lat,lng:e.lng,onClick:t,vehicle:e,chosen:e.vehicle_id===n.vehicle_id},e.vehicle_id)}))]}),Object(b.jsx)("button",{onClick:j?V:function(){if(k){var e=new k.Polygon({map:O,paths:D,strokeColor:"green",strokeOpacity:.8,strokeWeight:2,fillColor:"green",fillOpacity:.35,draggable:!0,geodesic:!0,editable:!0});f(e)}},className:"button",style:{bottom:40},children:j?"Search area":"Start searching an area"}),j&&Object(b.jsx)("button",{onClick:function(){j.setMap(null),f(void 0),E(void 0),r(),s({text:"",status:"all",class:"all"})},className:"button",style:{bottom:0},children:"Close search area"})]})},M=n(6),_=(n(46),function(e){var t=e.setFilters,n=e.filters;return Object(b.jsxs)("ul",{className:"list-filter",children:[Object(b.jsxs)("div",{className:"list-filter-half",children:[Object(b.jsx)("button",{onClick:function(){return t(Object(M.a)(Object(M.a)({},n),{},{status:"all"}))},style:{backgroundColor:"all"===n.status?"grey":void 0},children:"All"}),Object(b.jsx)("button",{onClick:function(){return t(Object(M.a)(Object(M.a)({},n),{},{status:"online"}))},style:{backgroundColor:"online"===n.status?"grey":void 0},children:"Online"}),Object(b.jsx)("button",{onClick:function(){return t(Object(M.a)(Object(M.a)({},n),{},{status:"in-ride"}))},style:{backgroundColor:"in-ride"===n.status?"grey":void 0},children:"In ride"})]}),Object(b.jsxs)("div",{className:"list-filter-half inputs",children:[Object(b.jsxs)("select",{value:n.class,name:"class",id:"class",style:{margin:"5px"},onChange:function(e){return t(Object(M.a)(Object(M.a)({},n),{},{class:e.target.value}))},children:[Object(b.jsx)("option",{value:"all",children:"Class"}),Object(b.jsx)("option",{value:"A",children:"A"}),Object(b.jsx)("option",{value:"B",children:"B"}),Object(b.jsx)("option",{value:"C",children:"C"}),Object(b.jsx)("option",{value:"D",children:"D"}),Object(b.jsx)("option",{value:"E",children:"E"})]}),Object(b.jsx)("input",{style:{margin:"5px"},type:"text",placeholder:"Vehicle ID",value:n.text,onChange:function(e){return t(Object(M.a)(Object(M.a)({},n),{},{text:e.target.value}))}})]})]})});var I=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)([]),a=Object(u.a)(r,2),l=a[0],h=a[1],d=Object(c.useState)(),f=Object(u.a)(d,2),v=f[0],O=f[1],x=Object(c.useState)({text:"",status:"all",class:"all"}),m=Object(u.a)(x,2),g=m[0],k=m[1],y=Object(c.useState)(),C=Object(u.a)(y,2),L=C[0],S=C[1],N=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,s(t),h(t),O(t[0]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){N()}),[]),Object(c.useEffect)((function(){var e;e=L?L.filter((function(e){return e.vehicle_id.includes(g.text)&&(e.class_name===g.class||"all"===g.class)&&(e.state===g.status||"all"===g.status)})):n.filter((function(e){return e.vehicle_id.includes(g.text)&&(e.class_name===g.class||"all"===g.class)&&(e.state===g.status||"all"===g.status)})),h(e),O(e[0])}),[g,n,L]),Object(b.jsxs)("div",{className:"app-container",children:[Object(b.jsxs)("div",{className:"map-container",children:[v&&Object(b.jsx)(E,{displayList:l,setAreaList:S,setChosenVehicle:O,chosenVehicle:v,setFilters:k}),Object(b.jsxs)("div",{style:{width:"30%",maxHeight:"100%",position:"relative",display:"flex",flexDirection:"column"},children:[Object(b.jsx)(_,{setFilters:k,filters:g}),v&&Object(b.jsx)(p,{vehicles:l,setChosenVehicle:O,chosenVehicle:v})]})]}),Object(b.jsx)("div",{className:"vehicle-card",children:v&&Object(b.jsx)(w,{vehicle:v})})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};a.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(I,{})}),document.getElementById("root")),A()}},[[47,1,2]]]);
//# sourceMappingURL=main.9d9025ca.chunk.js.map